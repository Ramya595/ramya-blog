---
title: "1ï¸âƒ£1ï¸âƒ£ Dutch National Flag Problem â€” Sort Colors"
description: "Brute Force, Better, and Optimal approach (Dutch National Flag Algorithm) with real-world examples, code, explanation, and complexities."
---

#  Dutch National Flag â€” Sort Colors  
**Category:** Arrays  
**Tags:** Sorting, Two Pointers, In-place

The **Dutch National Flag Problem**, proposed by *Edsger Dijkstra*, asks us to sort an array that contains only **0s, 1s, and 2s** â€” representing three different colors.

This is a very popular **DSA + interview problem**, especially in companies like **Amazon, Google, Meta**.

---

## ğŸ§  Problem Statement

Given an array containing only **0s, 1s, and 2s**, sort the array in ascending order **without using extra space** and ideally in **one traversal**.

**Input:** `[2, 0, 2, 1, 1, 0]`  
**Output:** `[0, 0, 1, 1, 2, 2]`

---

# ğŸ§© Real-World Analogy  
### ğŸ¨ Example: Sorting T-shirts in a Store  
A clothing store sorts T-shirts into bins:  
- **0 â†’ Small**  
- **1 â†’ Medium**  
- **2 â†’ Large**

Instead of doing multiple passes over the rack, the staff sorts in one go:  
- If the size is *small*, put it in the **left**.  
- If *medium*, leave it in the **middle**.  
- If *large*, put it to the **right**.

This is exactly what the **Dutch National Flag algorithm** does.

---

# ğŸ¥‰ Approach 1 â€” Brute Force (Using Sorting Algorithm)

### ğŸ› ï¸ Idea  
Just use the normal sorting algorithm provided by the language.

### ğŸ§µ Steps  
1. Apply `sort()` on the array.  
2. Thatâ€™s it.

### ğŸ§ª Code (JavaScript)
```js
function sortColors(nums) {
  nums.sort((a, b) => a - b);
  return nums;
}
````

### â³ Time Complexity

* **O(n log n)** â€” because built-in sort uses efficient algorithms.

### ğŸ§  Space Complexity

* **O(1)** extra space (in JS, sort may use O(log n) stack).

### âŒ Why this is not preferred?

* Doesnâ€™t use the fact that array only contains **0, 1, 2**
* Not optimal for interviews

---

# ğŸ¥ˆ Approach 2 â€” Better Approach (Counting Sort)

### ğŸ› ï¸ Idea

Count number of **0s**, **1s**, and **2s**, then overwrite the array.

### ğŸ§µ Steps

1. Traverse array â†’ count occurrences.
2. Rebuild array using counts.

### ğŸ§ª Code

```js
function sortColors(nums) {
  let count0 = 0, count1 = 0, count2 = 0;

  for (let num of nums) {
    if (num === 0) count0++;
    else if (num === 1) count1++;
    else count2++;
  }

  let i = 0;
  while (count0--) nums[i++] = 0;
  while (count1--) nums[i++] = 1;
  while (count2--) nums[i++] = 2;

  return nums;
}
```

### â³ Time Complexity

* **O(n + n) â†’ O(n)**

### ğŸ§  Space Complexity

* **O(1)**

### âœ”ï¸ Better than sorting

But still needs **two passes**.

---

# ğŸ¥‡ Approach 3 â€” Optimal Approach

# Dutch National Flag Algorithm (Three-Pointer Method)

This is the most optimal method and the one interviewers expect.

### ğŸ§  Idea

Keep **three pointers**:

* `low` â†’ boundary for 0s
* `mid` â†’ current element
* `high` â†’ boundary for 2s

### ğŸ” Logic

* If `nums[mid] == 0`: swap with `low`, move both pointers
* If `nums[mid] == 1`: just move `mid`
* If `nums[mid] == 2`: swap with `high`, move `high` backward

### ğŸ§ª Code (Optimal)

```js
function sortColors(nums) {
  let low = 0, mid = 0, high = nums.length - 1;

  while (mid <= high) {
    if (nums[mid] === 0) {
      [nums[low], nums[mid]] = [nums[mid], nums[low]];
      low++;
      mid++;
    } else if (nums[mid] === 1) {
      mid++;
    } else {
      [nums[mid], nums[high]] = [nums[high], nums[mid]];
      high--;
    }
  }
  return nums;
}
```

---

## ğŸ” Dry Run Example

Input: `[2, 0, 1]`

| low | mid | high | Array   | Action          |
| --- | --- | ---- | ------- | --------------- |
| 0   | 0   | 2    | [2,0,1] | swap mid â†” high |
| 0   | 0   | 1    | [1,0,2] | mid++           |
| 0   | 1   | 1    | [1,0,2] | mid==1 â†’ pass   |
| 0   | 2   | 1    | [1,0,2] | loop ends       |

Sorted: `[0,1,2]`

---

## â³ Time Complexity

* **O(n)** â€” single traversal

## ğŸ§  Space Complexity

* **O(1)** â€” in-place

---

# ğŸ Final Thoughts

The **Dutch National Flag algorithm** is a great example of:

* Pointer manipulation
* Thinking in partitions
* Achieving optimal time + space

### â­ Always use the **three-pointer optimal approach** in interviews.

---